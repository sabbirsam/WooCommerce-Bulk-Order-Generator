{"version":3,"file":"js/generator.min.js","mappings":"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","sources":["webpack://wc-bulk-order-generator/webpack/bootstrap","webpack://wc-bulk-order-generator/webpack/runtime/make namespace object","webpack://wc-bulk-order-generator/./js/generator.js","webpack://wc-bulk-order-generator/./css/generator.css"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\r\n// Tabs ----------------------------------------\r\njQuery(document).ready(function($) {\r\n    // Check localStorage for the last active tab\r\n    let activeTab = localStorage.getItem('activeTab');\r\n\r\n    if (activeTab) {\r\n        // Set the saved active tab\r\n        $('.nav-tab').removeClass('nav-tab-active');\r\n        $('.tab-content').removeClass('active');\r\n\r\n        $(`.nav-tab[href=\"${activeTab}\"]`).addClass('nav-tab-active');\r\n        $(activeTab).addClass('active');\r\n    } else {\r\n        // Default to the first tab if no active tab is saved\r\n        $('.nav-tab').first().addClass('nav-tab-active');\r\n        $('.tab-content').first().addClass('active');\r\n    }\r\n\r\n    // Tab switching functionality\r\n    $('.nav-tab').on('click', function(e) {\r\n        e.preventDefault();\r\n        \r\n        // Set clicked tab as active\r\n        $('.nav-tab').removeClass('nav-tab-active');\r\n        $(this).addClass('nav-tab-active');\r\n        $('.tab-content').removeClass('active');\r\n        $($(this).attr('href')).addClass('active');\r\n\r\n        // Save the active tab to localStorage\r\n        localStorage.setItem('activeTab', $(this).attr('href'));\r\n    });\r\n});\r\n\r\n// CSV importer ---------------------------------\r\njQuery(document).ready(function($) {\r\n    $('.file-upload-input').on('change', function(e) {\r\n        const file = e.target.files[0];\r\n        const $preview = $('.file-upload-preview');\r\n        \r\n        if (file) {\r\n            $preview.html(` \r\n                <div class=\"file-name-display\">\r\n                    📄 ${file.name}\r\n                </div>\r\n            `);\r\n        }\r\n    });\r\n});\r\n\r\n// --------------Order -------------------------------------\r\njQuery(document).ready(function($) {\r\n\r\n    if (!$('#toast-container').length) {\r\n        $('body').append('<div id=\"toast-container\" style=\"position: fixed; top: 40px; right: 20px; z-index: 10000;\"></div>');\r\n    }\r\n\r\n\r\n    function showToast(message, type = 'success') {\r\n        const toast = $(`\r\n            <div class=\"wc-toast ${type}\">\r\n                ${message}\r\n            </div>\r\n        `);\r\n        \r\n        $('#toast-container').append(toast);\r\n        \r\n        // Trigger reflow and animate in\r\n        setTimeout(() => toast.css('opacity', '1'), 10);\r\n        \r\n        // Auto remove after 3 seconds\r\n        setTimeout(() => {\r\n            toast.css('opacity', '0');\r\n            setTimeout(() => toast.remove(), 300);\r\n        }, 3000);\r\n    }\r\n\r\n    let isGenerating = false;\r\n    let totalOrders = 0;\r\n    let successCount = 0;\r\n    let failedCount = 0;\r\n    let currentBatch = 0;\r\n    let isStopping = false;\r\n    let startTime;\r\n\r\n    function formatDuration(ms) {\r\n        const seconds = Math.floor(ms / 1000);\r\n        const minutes = Math.floor(seconds / 60);\r\n        const hours = Math.floor(minutes / 60);\r\n        return `${hours}h ${minutes % 60}m ${seconds % 60}s`;\r\n    }\r\n\r\n    function resetAll() {\r\n        isGenerating = false;\r\n        isStopping = false;\r\n        totalOrders = 0;\r\n        successCount = 0;\r\n        failedCount = 0;\r\n        currentBatch = 0;\r\n        \r\n        // Reset all display values\r\n        $('.progress-bar').css('width', '0%');\r\n        $('#total-processed').text('0');\r\n        $('#success-count').text('0');\r\n        $('#failed-count').text('0');\r\n        $('#processing-rate').text('0');\r\n        $('#elapsed-time').text('0s');\r\n        $('#time-remaining').text('--');\r\n        $('#num_orders').val('100');\r\n        \r\n        // Reset buttons\r\n        $('#start-generation').prop('disabled', false);\r\n        $('#stop-generation').prop('disabled', true);\r\n        $('#reset-generation').hide();\r\n        \r\n        // Clear status\r\n        $('#generation-status').hide();\r\n    }\r\n\r\n    function updateProgress() {\r\n        const totalProcessed = successCount + failedCount;\r\n        const percentage = (totalProcessed / totalOrders) * 100;\r\n        \r\n        $('.progress-bar').css('width', percentage + '%');\r\n        $('#total-processed').text(totalProcessed);\r\n        $('#success-count').text(successCount);\r\n        $('#failed-count').text(failedCount);\r\n        \r\n        const elapsedTime = (Date.now() - startTime) / 1000;\r\n        const ordersPerSecond = totalProcessed / elapsedTime;\r\n        $('#processing-rate').text(ordersPerSecond.toFixed(2));\r\n        \r\n        const remainingOrders = totalOrders - totalProcessed;\r\n        const estimatedSecondsRemaining = remainingOrders / ordersPerSecond;\r\n        $('#time-remaining').text(formatDuration(estimatedSecondsRemaining * 1000));\r\n        $('#elapsed-time').text(formatDuration(Date.now() - startTime));\r\n    }\r\n\r\n    function stopGeneration() {\r\n        return $.ajax({\r\n            url: wcOrderGenerator.ajaxurl,\r\n            type: 'POST',\r\n            data: {\r\n                action: 'stop_order_generation',\r\n                nonce: wcOrderGenerator.nonce\r\n            }\r\n        });\r\n    }\r\n\r\n    function processBatch() {\r\n        if (!isGenerating || isStopping) {\r\n            finishGeneration('Order Generation stopped', 'warning');\r\n            showToast('Order Generation stopped', 'warning');\r\n            return;\r\n        }\r\n\r\n        const totalProcessed = successCount + failedCount;\r\n        const remainingOrders = totalOrders - totalProcessed;\r\n        \r\n        if (remainingOrders <= 0) {\r\n            finishGeneration('Order Generation complete!', 'success');\r\n            showToast('Order Generation complete!', 'success');\r\n            return;\r\n        }\r\n\r\n        const currentBatchSize = Math.min($('#batch_size').val(), remainingOrders);\r\n        console.log(currentBatchSize)\r\n        $('#generation-status')\r\n            .text(`Processing batch ${currentBatch + 1}...`)\r\n            .removeClass()\r\n            .addClass('notice notice-info')\r\n            .show();\r\n\r\n        $.ajax({\r\n            url: wcOrderGenerator.ajaxurl,\r\n            type: 'POST',\r\n            data: {\r\n                action: 'process_order_batch',\r\n                nonce: wcOrderGenerator.nonce,\r\n                batch_size: currentBatchSize,\r\n                batch_number: currentBatch\r\n            },\r\n            success: function(response) {\r\n                if (response.success) {\r\n                    successCount += response.data.success;\r\n                    failedCount += response.data.failed;\r\n                    currentBatch++;\r\n                    updateProgress();\r\n                    \r\n                    if (!isStopping) {\r\n                        setTimeout(processBatch, 500);\r\n                    } else {\r\n                        finishGeneration('Generation stopped', 'warning');\r\n                        showToast('Order Generation stopped', 'warning');\r\n                        \r\n                    }\r\n                } else {\r\n                    handleError('Error processing batch: ' + response.data);\r\n                    showToast('Eror processing batch', 'error');\r\n                }\r\n            },\r\n            error: function(xhr, status, error) {\r\n                if (!isStopping) {\r\n                    handleError('Server error occurred: ' + error);\r\n                    showToast('Server error occurred', 'error');\r\n                } else {\r\n                    finishGeneration('Generation stopped', 'warning');\r\n                    showToast('Order Generation stopped', 'warning');\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    function finishGeneration(message, type) {\r\n        $('#generation-status')\r\n            .text(message)\r\n            .removeClass()\r\n            .addClass(`notice notice-${type}`)\r\n            .show();\r\n            \r\n        isGenerating = false;\r\n        isStopping = false;\r\n\r\n        $('#start-generation').prop('disabled', false);\r\n        $('#stop-generation').prop('disabled', true);\r\n        $('#reset-generation').show();\r\n    }\r\n\r\n    function handleError(message) {\r\n        const batchSize = 0;\r\n        failedCount += batchSize;\r\n        updateProgress();\r\n        $('#time-remaining').text(formatDuration(failedCount));\r\n        finishGeneration(message, 'error');\r\n    }\r\n\r\n    $('#order-generator-form').on('submit', function(e) {\r\n        e.preventDefault();\r\n        \r\n        const numOrders = parseInt($('#num_orders').val());\r\n        if (numOrders < 1 || numOrders > 10000) {\r\n            alert('Please enter a number between 1 and 10k');\r\n            return;\r\n        }\r\n        const batch_size = parseInt($('#batch_size').val());\r\n        if (batch_size < 5 || batch_size > 30) {\r\n            alert('Please enter a batch number between 5 and 30');\r\n            return;\r\n        }\r\n\r\n        isGenerating = true;\r\n        isStopping = false;\r\n        totalOrders = numOrders;\r\n        successCount = 0;\r\n        failedCount = 0;\r\n        currentBatch = 0;\r\n        startTime = Date.now();\r\n\r\n        $('#start-generation').prop('disabled', true);\r\n        $('#stop-generation').prop('disabled', false);\r\n        $('#reset-generation').hide();\r\n        $('#generation-status')\r\n            .text('Starting generation...')\r\n            .removeClass()\r\n            .addClass('notice notice-info')\r\n            .show();\r\n        $('.progress-bar').css('width', '0%');\r\n        \r\n        processBatch();\r\n    });\r\n\r\n    $('#stop-generation').on('click', function() {\r\n        if (!isGenerating) return;\r\n        \r\n        isStopping = true;\r\n        $(this).prop('disabled', true);\r\n        $('#generation-status')\r\n            .text('Stopping generation...')\r\n            .removeClass()\r\n            .addClass('notice notice-warning')\r\n            .show();\r\n\r\n        stopGeneration()\r\n            .fail(function(xhr, status, error) {\r\n                console.error('Failed to stop generation:', error);\r\n            });\r\n    });\r\n\r\n    $('#reset-generation').on('click', resetAll);\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n//------------------------------ Product ----------------------------------\r\n\r\njQuery(document).ready(function($) {\r\n\r\n    // Add toast container if it doesn't exist\r\n    if (!$('#toast-container').length) {\r\n        $('body').append('<div id=\"toast-container\" style=\"position: fixed; top: 40px; right: 20px; z-index: 10000;\"></div>');\r\n    }\r\n\r\n    function showToast(message, type = 'success') {\r\n        const toast = $(`\r\n            <div class=\"wc-toast ${type}\">\r\n                ${message}\r\n            </div>\r\n        `);\r\n        \r\n        $('#toast-container').append(toast);\r\n        \r\n        // Trigger reflow and animate in\r\n        setTimeout(() => toast.css('opacity', '1'), 10);\r\n        \r\n        // Auto remove after 3 seconds\r\n        setTimeout(() => {\r\n            toast.css('opacity', '0');\r\n            setTimeout(() => toast.remove(), 300);\r\n        }, 3000);\r\n    }\r\n\r\n\r\n    // Product Generation Code\r\n    let isGeneratingProducts = false;\r\n    let totalProducts = 0;\r\n    let productSuccessCount = 0;\r\n    let productFailedCount = 0;\r\n    let currentProductBatch = 0;\r\n    let productStartTime;\r\n\r\n    function resetProductGeneration() {\r\n        isGeneratingProducts = false;\r\n        totalProducts = 0;\r\n        productSuccessCount = 0;\r\n        productFailedCount = 0;\r\n        currentProductBatch = 0;\r\n        \r\n        // Reset display values\r\n        $('.product-progress-bar').css('width', '0%');\r\n        $('#products-processed').text('0');\r\n        $('#products-failed').text('0');\r\n        \r\n        // Reset buttons\r\n        $('#start-product-generation').prop('disabled', false);\r\n        $('#stop-product-generation').prop('disabled', true);\r\n        $('#reset-product-generation').hide();\r\n        \r\n        // Clear status\r\n        $('#product-generation-status').hide();\r\n    }\r\n\r\n    function updateProductProgress() {\r\n        const totalProcessed = productSuccessCount + productFailedCount;\r\n        const percentage = (totalProcessed / totalProducts) * 100;\r\n        \r\n        // Update progress bar\r\n        $('.product-progress-bar').css('width', percentage + '%');\r\n        \r\n        // Update statistics\r\n        $('#products-processed').text(productSuccessCount);\r\n        $('#products-failed').text(productFailedCount);\r\n    }\r\n\r\n    function processProductBatch() {\r\n        if (!isGeneratingProducts) {\r\n            $('#product-generation-status').text('Generation stopped').removeClass().addClass('notice notice-warning').show();\r\n            $('#start-product-generation').prop('disabled', false);\r\n            $('#stop-product-generation').prop('disabled', true);\r\n            $('#reset-product-generation').show();\r\n\r\n            showToast('Product Generation stopped', 'warning');\r\n\r\n            return;\r\n        }\r\n\r\n        const remainingProducts = totalProducts - (productSuccessCount + productFailedCount);\r\n        if (remainingProducts <= 0) {\r\n            $('#product-generation-status').text('Product generation complete!').removeClass().addClass('notice notice-success').show();\r\n            $('#start-product-generation').prop('disabled', false);\r\n            $('#stop-product-generation').prop('disabled', true);\r\n            $('#reset-product-generation').show();\r\n            showToast('Product Generation complete!', 'success');\r\n            return;\r\n        }\r\n\r\n        const currentBatchSize = Math.min($('#product_batch_size').val(), remainingProducts);\r\n        $('#product-generation-status').text(`Processing product batch ${currentProductBatch + 1}...`).removeClass().addClass('notice notice-info').show();\r\n\r\n        $.ajax({\r\n            url: wcOrderGenerator.ajaxurl,\r\n            type: 'POST',\r\n            data: {\r\n                action: 'process_product_batch',\r\n                nonce: wcOrderGenerator.products_nonce,\r\n                batch_size: currentBatchSize,\r\n                price_min: $('#price_min').val(),\r\n                price_max: $('#price_max').val(),\r\n                batch_number: currentProductBatch\r\n            },\r\n            \r\n            success: function(response) {\r\n                if (response.success) {\r\n                    productSuccessCount += response.data.success;\r\n                    productFailedCount += response.data.failed;\r\n                    currentProductBatch++;\r\n                    updateProductProgress();\r\n                    \r\n                    setTimeout(processProductBatch, 500);\r\n                } else {\r\n                    handleProductError('Error processing product batch: ' + response.data);\r\n                }\r\n            },\r\n            error: function() {\r\n                handleProductError('Server error occurred during product generation');\r\n            }\r\n        });\r\n    }\r\n\r\n    function handleProductError(message) {\r\n        productFailedCount += parseInt($('#product_batch_size').val());\r\n        updateProductProgress();\r\n        $('#product-generation-status').text(message).removeClass().addClass('notice notice-error').show();\r\n        isGeneratingProducts = false;\r\n        $('#start-product-generation').prop('disabled', false);\r\n        $('#stop-product-generation').prop('disabled', true);\r\n        $('#reset-product-generation').show();\r\n    }\r\n\r\n    $('#product-generator-form').on('submit', function(e) {\r\n        e.preventDefault();\r\n        \r\n        const numProducts = parseInt($('#num_products').val());\r\n        if (numProducts < 1 || numProducts > 10000) {\r\n            alert('Please enter a number between 1 and 10k');\r\n            return;\r\n        }\r\n\r\n        const product_batch_size = parseInt($('#product_batch_size').val());\r\n        if (product_batch_size < 5 || product_batch_size > 30) {\r\n            alert('Please enter a batch number between 5 and 30');\r\n            return;\r\n        }\r\n\r\n        isGeneratingProducts = true;\r\n        totalProducts = numProducts;\r\n        productSuccessCount = 0;\r\n        productFailedCount = 0;\r\n        currentProductBatch = 0;\r\n        productStartTime = Date.now();\r\n\r\n        $('#start-product-generation').prop('disabled', true);\r\n        $('#stop-product-generation').prop('disabled', false);\r\n        $('#reset-product-generation').hide();\r\n        $('#product-generation-status').text('Starting product generation...').removeClass().addClass('notice notice-info').show();\r\n        $('.product-progress-bar').css('width', '0%');\r\n        \r\n        processProductBatch();\r\n    });\r\n\r\n    $('#stop-product-generation').on('click', function() {\r\n        isGeneratingProducts = false;\r\n        $(this).prop('disabled', true);\r\n        $('#product-generation-status').text('Stopping product generation...').removeClass().addClass('notice notice-warning').show();\r\n    });\r\n\r\n    $('#reset-product-generation').on('click', resetProductGeneration);\r\n\r\n    \r\n});\r\n\r\n\r\n\r\n\r\n//export ----------------------------------------\r\n\r\njQuery(document).ready(function($) {\r\n\r\n    if (!$('#toast-container').length) {\r\n        $('body').append('<div id=\"toast-container\" style=\"position: fixed; top: 40px; right: 20px; z-index: 10000;\"></div>');\r\n    }\r\n\r\n\r\n    function showToast(message, type = 'success') {\r\n        const toast = $(`\r\n            <div class=\"wc-toast ${type}\">\r\n                ${message}\r\n            </div>\r\n        `);\r\n        \r\n        $('#toast-container').append(toast);\r\n        \r\n        // Trigger reflow and animate in\r\n        setTimeout(() => toast.css('opacity', '1'), 10);\r\n        \r\n        // Auto remove after 3 seconds\r\n        setTimeout(() => {\r\n            toast.css('opacity', '0');\r\n            setTimeout(() => toast.remove(), 300);\r\n        }, 3000);\r\n    }\r\n\r\n\r\n    let exportIsGenerating = false;\r\n    let exportTotalOrders = 0;\r\n    let exportStartTime = 0;\r\n\r\n    // Always set export all to true by default\r\n    $('#export-all').prop('checked', true);\r\n\r\n    $('#order-export-form').on('submit', function(e) {\r\n        e.preventDefault();\r\n        \r\n        const batchSize = parseInt($('#export-batch-size').val());\r\n        const exportAll = true; // Always export all orders\r\n        const statuses = $('#export-status').val() || [];\r\n                \r\n        $.ajax({\r\n            url: wcOrderGenerator.ajaxurl,\r\n            type: 'POST',\r\n            data: {\r\n                action: 'start_order_export',\r\n                nonce: wcOrderGenerator.export_nonce,\r\n                batch_size: batchSize,\r\n                export_all: exportAll,\r\n                statuses: statuses\r\n            },\r\n            success: function(response) {\r\n                if (response.success) {\r\n                    exportIsGenerating = true;\r\n                    exportTotalOrders = response.data.total_orders;\r\n                    exportStartTime = Date.now();\r\n                    \r\n                    // Disable export button during process\r\n                    $('#start-order-export').prop('disabled', true);\r\n                    \r\n                    processExportBatch(0, response.data.export_session);\r\n                } else {\r\n                    showToast('Export initialization failed: ' + response.data, 'error');\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    function processExportBatch(batchNumber, exportSession) {\r\n        const batchSize = parseInt($('#export-batch-size').val());\r\n        const statuses = $('#export-status').val() || [];\r\n        const totalBatches = Math.ceil(exportTotalOrders / batchSize);\r\n        \r\n        $.ajax({\r\n            url: wcOrderGenerator.ajaxurl,\r\n            type: 'POST',\r\n            data: {\r\n                action: 'export_order_batch',\r\n                nonce: wcOrderGenerator.export_nonce,\r\n                batch_size: batchSize,\r\n                batch_number: batchNumber,\r\n                total_batches: totalBatches,\r\n                export_all: true,\r\n                statuses: statuses,\r\n                export_session: exportSession\r\n            },\r\n            success: function(response) {\r\n                if (response.success) {\r\n                    const processed = (batchNumber + 1) * batchSize;\r\n                    updateExportProgress(\r\n                        Math.min(processed, exportTotalOrders), \r\n                        response.data.success, \r\n                        response.data.failed\r\n                    );\r\n                    \r\n                    if (!response.data.is_last_batch) {\r\n                        processExportBatch(batchNumber + 1, exportSession);\r\n                    } else {\r\n                        exportIsGenerating = false;\r\n                        $('#start-order-export').prop('disabled', false);\r\n                        \r\n                        // Trigger file download\r\n                        window.location.href = response.data.download_url;\r\n                    }\r\n                } else {\r\n                    showToast('Export batch failed!' + response.data, 'error');\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    function updateExportProgress(processed, success, failed) {\r\n        // Ensure exportTotalOrders is initialized and greater than 0\r\n        if (!exportTotalOrders || exportTotalOrders <= 0) {\r\n            showToast(\"Exporting number of order not found!\", 'info')\r\n            return;\r\n        }\r\n    \r\n        const percentage = Math.min((processed / exportTotalOrders) * 100, 100); // Ensure it does not exceed 100%\r\n        \r\n        // Ensure progress bar width is set correctly\r\n        $('.export-progress-bar').css({\r\n            'width': percentage + '%',\r\n            'background-color': 'blue',\r\n            'height': '25px',\r\n            'transition': 'width 0.5s ease-in-out'\r\n        });\r\n    \r\n        // Update processed, success, and failed counts\r\n        $('#export-total-processed').text(processed);\r\n        $('#export-success-count').text(success);\r\n        $('#export-failed-count').text(failed);\r\n    \r\n        // Calculate elapsed time and handle NaN\r\n        const currentTime = Date.now();\r\n        const elapsedTime = exportStartTime ? currentTime - exportStartTime : 0;\r\n        $('#export-elapsed-time').text(elapsedTime > 0 ? formatDuration(elapsedTime) : '0s');\r\n    \r\n        // Calculate orders per second and handle NaN\r\n        const ordersPerSecond = elapsedTime > 0 ? processed / (elapsedTime / 1000) : 0;\r\n    \r\n        // Calculate remaining time and handle NaN\r\n        const remainingOrders = exportTotalOrders - processed;\r\n        const estimatedSecondsRemaining = ordersPerSecond > 0 ? remainingOrders / ordersPerSecond : 0;\r\n        $('#export-time-remaining').text(estimatedSecondsRemaining > 0 ? formatDuration(estimatedSecondsRemaining * 1000) : '0s');\r\n    }\r\n\r\n        \r\n\r\n    function formatDuration(ms) {\r\n        const seconds = Math.floor(ms / 1000);\r\n        const minutes = Math.floor(seconds / 60);\r\n        const hours = Math.floor(minutes / 60);\r\n        return `${hours}h ${minutes % 60}m ${seconds % 60}s`;\r\n    }\r\n\r\n    // Reset buttons\r\n    $('#reset-order-export').on('click', function() {\r\n        exportIsGenerating = false;\r\n        $('.export-progress-bar').css('width', '0%');\r\n        $('#export-total-processed, #export-success-count, #export-failed-count').text('0');\r\n        $('#export-elapsed-time').text('0s');\r\n        $('#export-time-remaining').text('--');\r\n        $('#start-order-export').prop('disabled', false);\r\n    });\r\n   \r\n});\r\n\r\n// product export ----------------\r\n\r\njQuery(document).ready(function($) {\r\n\r\n    if (!$('#toast-container').length) {\r\n        $('body').append('<div id=\"toast-container\" style=\"position: fixed; top: 40px; right: 20px; z-index: 10000;\"></div>');\r\n    }\r\n\r\n    function showToast(message, type = 'success') {\r\n        const toast = $(`\r\n            <div class=\"wc-toast ${type}\">\r\n                ${message}\r\n            </div>\r\n        `);\r\n        \r\n        $('#toast-container').append(toast);\r\n        \r\n        // Trigger reflow and animate in\r\n        setTimeout(() => toast.css('opacity', '1'), 10);\r\n        \r\n        // Auto remove after 3 seconds\r\n        setTimeout(() => {\r\n            toast.css('opacity', '0');\r\n            setTimeout(() => toast.remove(), 300);\r\n        }, 3000);\r\n    }\r\n\r\n    // Product Export functionality\r\n    let productExportIsGenerating = false;\r\n    let productExportTotalProducts = 0;\r\n    let productExportStartTime = 0;\r\n    let exportFailedAttempts = 0;\r\n    const MAX_FAILED_ATTEMPTS = 3;\r\n    let exportTimeout;\r\n\r\n    $('#product-export-form').on('submit', function(e) {\r\n        e.preventDefault();\r\n        \r\n        const batchSize = parseInt($('#product-export-batch-size').val());\r\n        const productTypes = $('#product-type').val() || [];\r\n        const categories = $('#product-category').val() || [];\r\n        const tags = $('#product-tag').val() || [];\r\n        \r\n        // Reset any previous export state\r\n        exportFailedAttempts = 0;\r\n        clearTimeout(exportTimeout);\r\n        \r\n        $.ajax({\r\n            url: wcOrderGenerator.ajaxurl,\r\n            type: 'POST',\r\n            data: {\r\n                action: 'start_product_export',\r\n                nonce: wcOrderGenerator.export_products_nonce,\r\n                batch_size: batchSize,\r\n                product_types: productTypes,\r\n                categories: categories,\r\n                tags: tags\r\n            },\r\n            success: function(response) {\r\n                if (response.success) {\r\n                    productExportIsGenerating = true;\r\n                    productExportTotalProducts = response.data.total_products;\r\n                    productExportStartTime = Date.now();\r\n                    \r\n                    // Show total products that will be exported\r\n                    showToast(`Starting export of ${productExportTotalProducts} products`, 'info');\r\n                    \r\n                    // Disable export button during process\r\n                    $('#start-product-export').prop('disabled', true);\r\n                    \r\n                    // Initialize progress display\r\n                    $('#product-export-total-processed').text('0');\r\n                    $('#product-export-success-count').text('0');\r\n                    $('#product-export-failed-count').text('0');\r\n                    $('#product-export-elapsed-time').text('0s');\r\n                    $('#product-export-time-remaining').text('--');\r\n                    $('.product-export-progress-bar').css('width', '0%');\r\n                    \r\n                    processProductExportBatch(0, response.data.export_session);\r\n                } else {\r\n                    showToast('Product export initialization failed: ' + response.data, 'error');\r\n                }\r\n            },\r\n            error: function() {\r\n                showToast('Connection error when starting export', 'error');\r\n                $('#start-product-export').prop('disabled', false);\r\n            }\r\n        });\r\n    });\r\n\r\n    function processProductExportBatch(batchNumber, exportSession) {\r\n        const batchSize = parseInt($('#product-export-batch-size').val());\r\n        const productTypes = $('#product-type').val() || [];\r\n        const categories = $('#product-category').val() || [];\r\n        const tags = $('#product-tag').val() || [];\r\n        const totalBatches = Math.ceil(productExportTotalProducts / batchSize);\r\n        \r\n        // Set a timeout to detect stalled exports (30 seconds)\r\n        clearTimeout(exportTimeout);\r\n        exportTimeout = setTimeout(function() {\r\n            if (productExportIsGenerating) {\r\n                handleExportTimeout(batchNumber, exportSession);\r\n            }\r\n        }, 60000);\r\n        \r\n        $.ajax({\r\n            url: wcOrderGenerator.ajaxurl,\r\n            type: 'POST',\r\n            data: {\r\n                action: 'export_product_batch',\r\n                nonce: wcOrderGenerator.export_products_nonce,\r\n                batch_size: batchSize,\r\n                batch_number: batchNumber,\r\n                total_batches: totalBatches,\r\n                product_types: productTypes,\r\n                categories: categories,\r\n                tags: tags,\r\n                export_session: exportSession\r\n            },\r\n            success: function(response) {\r\n                clearTimeout(exportTimeout);\r\n                \r\n                if (response.success) {\r\n                    exportFailedAttempts = 0; // Reset failed attempts on success\r\n                    \r\n                    const processed = (batchNumber + 1) * batchSize;\r\n                    updateProductExportProgress(\r\n                        Math.min(processed, productExportTotalProducts), \r\n                        response.data.success, \r\n                        response.data.failed\r\n                    );\r\n                    \r\n                    if (!response.data.is_last_batch) {\r\n                        processProductExportBatch(batchNumber + 1, exportSession);\r\n                    } else {\r\n                        productExportIsGenerating = false;\r\n                        $('#start-product-export').prop('disabled', false);\r\n                        \r\n                        // Complete the progress bar to 100%\r\n                        $('.product-export-progress-bar').css('width', '100%');\r\n                        \r\n                        showToast('Export completed successfully!', 'success');\r\n                        \r\n                        // Trigger file download\r\n                        if (response.data.download_url) {\r\n                            window.location.href = response.data.download_url;\r\n                        } else {\r\n                            showToast('Download URL not available', 'error');\r\n                        }\r\n                    }\r\n                } else {\r\n                    handleExportError(batchNumber, exportSession, 'Product export batch failed: ' + response.data);\r\n                }\r\n            },\r\n            error: function() {\r\n                clearTimeout(exportTimeout);\r\n                handleExportError(batchNumber, exportSession, 'Connection error during export');\r\n            }\r\n        });\r\n    }\r\n\r\n    function handleExportTimeout(batchNumber, exportSession) {\r\n        handleExportError(batchNumber, exportSession, 'Export operation timed out');\r\n    }\r\n    \r\n    function handleExportError(batchNumber, exportSession, message) {\r\n        exportFailedAttempts++;\r\n        \r\n        if (exportFailedAttempts < MAX_FAILED_ATTEMPTS) {\r\n            showToast(`${message}. Retrying... (Attempt ${exportFailedAttempts}/${MAX_FAILED_ATTEMPTS})`, 'warning');\r\n            // Wait 2 seconds before retrying\r\n            setTimeout(function() {\r\n                processProductExportBatch(batchNumber, exportSession);\r\n            }, 2000);\r\n        } else {\r\n            showToast(`Export failed after ${MAX_FAILED_ATTEMPTS} attempts. Please try again.`, 'error');\r\n            productExportIsGenerating = false;\r\n            $('#start-product-export').prop('disabled', false);\r\n        }\r\n    }\r\n\r\n    function formatDuration(ms) {\r\n        const seconds = Math.floor(ms / 1000) % 60;\r\n        const minutes = Math.floor(ms / (1000 * 60)) % 60;\r\n        const hours = Math.floor(ms / (1000 * 60 * 60));\r\n        \r\n        if (hours > 0) {\r\n            return `${hours}h ${minutes}m ${seconds}s`;\r\n        } else if (minutes > 0) {\r\n            return `${minutes}m ${seconds}s`;\r\n        } else {\r\n            return `${seconds}s`;\r\n        }\r\n    }\r\n    \r\n\r\n    function updateProductExportProgress(processed, success, failed) {\r\n        // Ensure productExportTotalProducts is initialized and greater than 0\r\n        if (!productExportTotalProducts || productExportTotalProducts <= 0) {\r\n            showToast(\"Number of products to export not found!\", 'info');\r\n            return;\r\n        }\r\n\r\n        const percentage = Math.min((processed / productExportTotalProducts) * 100, 100); // Ensure it does not exceed 100%\r\n        \r\n        // Ensure progress bar width is set correctly\r\n        $('.product-export-progress-bar').css({\r\n            'width': percentage + '%',\r\n            'background-color': 'green',\r\n            'height': '25px',\r\n            'transition': 'width 0.5s ease-in-out'\r\n        });\r\n\r\n        // Update processed, success, and failed counts\r\n        $('#product-export-total-processed').text(processed);\r\n        $('#product-export-success-count').text(success);\r\n        $('#product-export-failed-count').text(failed);\r\n\r\n        // Calculate elapsed time and handle NaN\r\n        const currentTime = Date.now();\r\n        const elapsedTime = productExportStartTime ? currentTime - productExportStartTime : 0;\r\n        $('#product-export-elapsed-time').text(elapsedTime > 0 ? formatDuration(elapsedTime) : '0s');\r\n\r\n        // Calculate products per second and handle NaN\r\n        const productsPerSecond = elapsedTime > 0 ? processed / (elapsedTime / 1000) : 0;\r\n\r\n        // Calculate remaining time and handle NaN\r\n        const remainingProducts = productExportTotalProducts - processed;\r\n        const estimatedSecondsRemaining = productsPerSecond > 0 ? remainingProducts / productsPerSecond : 0;\r\n        $('#product-export-time-remaining').text(estimatedSecondsRemaining > 0 ? formatDuration(estimatedSecondsRemaining * 1000) : '0s');\r\n    }\r\n\r\n    // Reset product export\r\n    $('#reset-product-export').on('click', function() {\r\n        clearTimeout(exportTimeout);\r\n        productExportIsGenerating = false;\r\n        exportFailedAttempts = 0;\r\n        $('.product-export-progress-bar').css('width', '0%');\r\n        $('#product-export-total-processed, #product-export-success-count, #product-export-failed-count').text('0');\r\n        $('#product-export-elapsed-time').text('0s');\r\n        $('#product-export-time-remaining').text('--');\r\n        $('#start-product-export').prop('disabled', false);\r\n    });\r\n\r\n});\r\n\r\n// Import \r\njQuery(document).ready(function($) {\r\n\r\n    if (!$('#toast-container').length) {\r\n        $('body').append('<div id=\"toast-container\" style=\"position: fixed; top: 40px; right: 20px; z-index: 10000;\"></div>');\r\n    }\r\n\r\n\r\n    function showToast(message, type = 'success') {\r\n        const toast = $(`\r\n            <div class=\"wc-toast ${type}\">\r\n                ${message}\r\n            </div>\r\n        `);\r\n        \r\n        $('#toast-container').append(toast);\r\n        \r\n        // Trigger reflow and animate in\r\n        setTimeout(() => toast.css('opacity', '1'), 10);\r\n        \r\n        // Auto remove after 3 seconds\r\n        setTimeout(() => {\r\n            toast.css('opacity', '0');\r\n            setTimeout(() => toast.remove(), 300);\r\n        }, 3000);\r\n    }\r\n\r\n\r\n    $('#order-import-form').on('submit', function (e) {\r\n        e.preventDefault();\r\n\r\n        const csvFile = $('.file-upload-input')[0].files[0];\r\n        \r\n        // Validate file type and extension\r\n        if (!csvFile) {\r\n            showToast('Please select a CSV file', 'warning');\r\n            e.preventDefault();\r\n            return false;\r\n        }\r\n\r\n        const allowedTypes = ['text/csv', 'application/vnd.ms-excel'];\r\n        const validExtension = csvFile.name.toLowerCase().endsWith('.csv');\r\n\r\n        if (!allowedTypes.includes(csvFile.type) || !validExtension) {\r\n            showToast('Invalid file type. Please upload a .csv file', 'error');\r\n            e.preventDefault();\r\n            return false;\r\n        }\r\n\r\n        // Additional size check (optional)\r\n        if (csvFile.size > 5 * 1024 * 1024) {\r\n            showToast('File size exceeds 5MB limit', 'warning');\r\n            e.preventDefault();\r\n            return false;\r\n        }\r\n    \r\n        var formData = new FormData(this);\r\n        formData.append('action', 'import_orders');\r\n        formData.append('nonce', wcOrderGenerator.import_nonce);\r\n        formData.append('current_batch', 0);\r\n    \r\n        var startTime = Date.now();\r\n        var totalOrders = 0;\r\n        var totalImportedCount = 0;\r\n    \r\n        function processNextBatch(formData) {\r\n            $.ajax({\r\n                url: wcOrderGenerator.ajaxurl,\r\n                type: 'POST',\r\n                data: formData,\r\n                processData: false,\r\n                contentType: false,\r\n                success: function (response) {\r\n                    if (response.success) {\r\n                        var endTime = Date.now();\r\n                        var elapsedTime = Math.floor((endTime - startTime) / 1000);\r\n    \r\n                        totalOrders = response.data.total_orders;\r\n                        totalImportedCount += response.data.successful;\r\n    \r\n                        $('#import-total-processed').text(totalImportedCount);\r\n                        $('#import-success-count').text(totalImportedCount);\r\n                        $('#import-failed-count').text(response.data.failed);\r\n                        $('#import-skipped-count').text(response.data.skipped);\r\n                        $('#import-elapsed-time').text(elapsedTime + 's');\r\n    \r\n                        // Update progress bar based on actual progress\r\n                        var progressPercentage = Math.floor((totalImportedCount / totalOrders) * 100);\r\n                        $('.import-progress-bar').css({\r\n                            'width': progressPercentage + '%',\r\n                            'background-color': 'blue',\r\n                            'height': '25px',\r\n                            'transition': 'width 0.5s ease-in-out'\r\n                        });\r\n    \r\n                        // Check if import is complete\r\n                        if (response.data.is_complete) {\r\n                            showToast('Order Import complete!', 'success');\r\n                            $('.import-progress-bar').css('background-color', 'green');\r\n                            return;\r\n                        }\r\n    \r\n                        // Prepare next batch\r\n                        var nextBatchData = new FormData();\r\n                        nextBatchData.append('action', 'import_orders');\r\n                        nextBatchData.append('nonce', wcOrderGenerator.import_nonce);\r\n                        nextBatchData.append('current_batch', response.data.current_batch + 1);\r\n                        nextBatchData.append('csv_file', formData.get('csv_file'));\r\n                        nextBatchData.append('batch_size', formData.get('batch_size'));\r\n    \r\n                        // Process next batch\r\n                        processNextBatch(nextBatchData);\r\n                    } else {\r\n                        showToast('Order Import failed!' + response.data, 'warning');\r\n                    }\r\n                },\r\n                error: function () {\r\n                    showToast('Server error occurred!', 'error');\r\n                }\r\n            });\r\n        }\r\n    \r\n        // Start batch processing\r\n        processNextBatch(formData);\r\n    });\r\n    \r\n\r\n     // Reset buttons\r\n    $('#reset-order-import').on('click', function() {\r\n        exportIsGenerating = false;\r\n        $('.import-progress-bar').css('width', '0%');\r\n        $('#import-total-processed, #import-success-count, #import-failed-count').text('0');\r\n        $('#import-elapsed-time').text('0s');\r\n        \r\n        // Reset file upload\r\n        $('.file-upload-input').val('');\r\n        $('.file-upload-preview').html(`\r\n            <div class=\"upload-placeholder\">\r\n                <i class=\"upload-icon\">📤</i>\r\n                <span class=\"upload-text\">Drag & Drop or Click to Upload CSV</span>\r\n            </div>\r\n        `);\r\n    });\r\n\r\n});\r\n\r\n\r\n// Product import ----------------------------\r\n\r\n// Add this to your existing jQuery document ready function\r\njQuery(document).ready(function($) {\r\n    \r\n    if (!$('#toast-container').length) {\r\n        $('body').append('<div id=\"toast-container\" style=\"position: fixed; top: 40px; right: 20px; z-index: 10000;\"></div>');\r\n    }\r\n\r\n\r\n    function showToast(message, type = 'success') {\r\n        const toast = $(`\r\n            <div class=\"wc-toast ${type}\">\r\n                ${message}\r\n            </div>\r\n        `);\r\n        \r\n        $('#toast-container').append(toast);\r\n        \r\n        // Trigger reflow and animate in\r\n        setTimeout(() => toast.css('opacity', '1'), 10);\r\n        \r\n        // Auto remove after 3 seconds\r\n        setTimeout(() => {\r\n            toast.css('opacity', '0');\r\n            setTimeout(() => toast.remove(), 300);\r\n        }, 3000);\r\n    }\r\n\r\n    // Product Import Form Submission\r\n    $('#product-import-form').on('submit', function(e) {\r\n        e.preventDefault();\r\n\r\n        const csvFile = $('#product-import-csv')[0].files[0];\r\n        \r\n        // Validate file type and extension\r\n        if (!csvFile) {\r\n            showToast('Please select a CSV file', 'warning');\r\n            return false;\r\n        }\r\n\r\n        const allowedTypes = ['text/csv', 'application/vnd.ms-excel'];\r\n        const validExtension = csvFile.name.toLowerCase().endsWith('.csv');\r\n\r\n        if (!allowedTypes.includes(csvFile.type) && !validExtension) {\r\n            showToast('Invalid file type. Please upload a .csv file', 'error');\r\n            return false;\r\n        }\r\n\r\n        // Additional size check (optional)\r\n        if (csvFile.size > 5 * 1024 * 1024) {\r\n            showToast('File size exceeds 5MB limit', 'warning');\r\n            return false;\r\n        }\r\n    \r\n        var formData = new FormData(this);\r\n        formData.append('action', 'import_products');\r\n        formData.append('nonce', wcOrderGenerator.import_products_nonce); // Use the same nonce or create a new one\r\n        formData.append('current_batch', 0);\r\n    \r\n        var startTime = Date.now();\r\n        var totalProducts = 0;\r\n        var totalImportedCount = 0;\r\n        var totalFailedCount = 0;\r\n        var totalSkippedCount = 0;\r\n    \r\n        function processNextBatch(formData) {\r\n            $.ajax({\r\n                url: wcOrderGenerator.ajaxurl,\r\n                type: 'POST',\r\n                data: formData,\r\n                processData: false,\r\n                contentType: false,\r\n                success: function(response) {\r\n                    if (response.success) {\r\n                        var endTime = Date.now();\r\n                        var elapsedTime = Math.floor((endTime - startTime) / 1000);\r\n    \r\n                        totalProducts = response.data.total_products;\r\n                        totalImportedCount += response.data.successful;\r\n                        totalFailedCount += response.data.failed;\r\n                        totalSkippedCount += response.data.skipped;\r\n    \r\n                        $('#product-import-total-processed').text(totalImportedCount + totalFailedCount + totalSkippedCount);\r\n                        $('#product-import-success-count').text(totalImportedCount);\r\n                        $('#product-import-failed-count').text(totalFailedCount);\r\n                        $('#product-import-skipped-count').text(totalSkippedCount);\r\n                        $('#product-import-elapsed-time').text(elapsedTime + 's');\r\n    \r\n                        // Update progress bar based on actual progress\r\n                        var progressPercentage = Math.floor(((response.data.current_batch * parseInt(formData.get('batch_size')) + response.data.processed) / totalProducts) * 100);\r\n                        $('.product-import-progress-bar').css({\r\n                            'width': progressPercentage + '%',\r\n                            'background-color': 'blue',\r\n                            'height': '25px',\r\n                            'transition': 'width 0.5s ease-in-out'\r\n                        });\r\n    \r\n                        // Check if import is complete\r\n                        if (response.data.is_complete) {\r\n                            showToast('Product Import complete!', 'success');\r\n                            $('.product-import-progress-bar').css('background-color', 'green');\r\n                            return;\r\n                        }\r\n    \r\n                        // Prepare next batch\r\n                        var nextBatchData = new FormData();\r\n                        nextBatchData.append('action', 'import_products');\r\n                        nextBatchData.append('nonce', wcOrderGenerator.import_products_nonce);\r\n                        nextBatchData.append('current_batch', response.data.current_batch + 1);\r\n                        nextBatchData.append('csv_file', formData.get('csv_file'));\r\n                        nextBatchData.append('batch_size', formData.get('batch_size'));\r\n    \r\n                        // Process next batch with a small delay to prevent server overload\r\n                        setTimeout(function() {\r\n                            processNextBatch(nextBatchData);\r\n                        }, 300);\r\n                    } else {\r\n                        showToast('Product Import failed: ' + (response.data || 'Unknown error'), 'error');\r\n                    }\r\n                },\r\n                error: function(xhr, status, error) {\r\n                    showToast('Server error occurred: ' + error, 'error');\r\n                }\r\n            });\r\n        }\r\n    \r\n        // Start batch processing\r\n        processNextBatch(formData);\r\n    });\r\n    \r\n    // Reset product import form\r\n    $('#reset-product-import').on('click', function() {\r\n        $('.product-import-progress-bar').css('width', '0%');\r\n        $('#product-import-total-processed, #product-import-success-count, #product-import-failed-count, #product-import-skipped-count').text('0');\r\n        $('#product-import-elapsed-time').text('0s');\r\n        \r\n        // Reset file upload\r\n        $('#product-import-csv').val('');\r\n        $('#product-import-form .file-upload-preview').html(`\r\n            <div class=\"upload-placeholder\">\r\n                <i class=\"upload-icon\">📤</i>\r\n                <span class=\"upload-text\">Drag & Drop or Click to Upload CSV</span>\r\n            </div>\r\n        `);\r\n    });\r\n    \r\n    // Add file upload preview functionality for product import\r\n    $('#product-import-csv').on('change', function() {\r\n        const file = this.files[0];\r\n        const previewElement = $(this).siblings('.file-upload-preview');\r\n        \r\n        if (file) {\r\n            previewElement.html(`\r\n                <div class=\"file-preview\">\r\n                    <i class=\"file-icon\">📄</i>\r\n                    <span class=\"file-name\">${file.name}</span>\r\n                    <span class=\"file-size\">(${(file.size / 1024).toFixed(2)} KB)</span>\r\n                </div>\r\n            `);\r\n        } else {\r\n            previewElement.html(`\r\n                <div class=\"upload-placeholder\">\r\n                    <i class=\"upload-icon\">📤</i>\r\n                    <span class=\"upload-text\">Drag & Drop or Click to Upload CSV</span>\r\n                </div>\r\n            `);\r\n        }\r\n    });\r\n    \r\n    // Add drag and drop functionality for product import\r\n    const productDropArea = $('#product-import-form .file-upload-wrapper');\r\n    \r\n    productDropArea.on('dragover', function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        $(this).addClass('dragover');\r\n    });\r\n    \r\n    productDropArea.on('dragleave', function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        $(this).removeClass('dragover');\r\n    });\r\n    \r\n    productDropArea.on('drop', function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        $(this).removeClass('dragover');\r\n        \r\n        const files = e.originalEvent.dataTransfer.files;\r\n        if (files.length) {\r\n            $('#product-import-csv')[0].files = files;\r\n            $('#product-import-csv').trigger('change');\r\n        }\r\n    });\r\n});\r\n\r\n\r\n// Delete Functionality \r\njQuery(document).ready(function($) {\r\n    const RETRY_DELAY = 3000; \r\n    const MAX_RETRIES = 3;\r\n\r\n    if (!$('#toast-container').length) {\r\n        $('body').append('<div id=\"toast-container\" style=\"position: fixed; top: 40px; right: 20px; z-index: 10000;\"></div>');\r\n    }\r\n\r\n\r\n    function showToast(message, type = 'success') {\r\n        const toast = $(`\r\n            <div class=\"wc-toast ${type}\">\r\n                ${message}\r\n            </div>\r\n        `);\r\n        \r\n        $('#toast-container').append(toast);\r\n        \r\n        // Trigger reflow and animate in\r\n        setTimeout(() => toast.css('opacity', '1'), 10);\r\n        \r\n        // Auto remove after 3 seconds\r\n        setTimeout(() => {\r\n            toast.css('opacity', '0');\r\n            setTimeout(() => toast.remove(), 300);\r\n        }, 3000);\r\n    }\r\n\r\n    function showConfirmDialog(type, callback) {\r\n        const confirmDialog = $(`\r\n            <div class=\"wc-confirm-dialog\">\r\n                <div class=\"wc-confirm-content\">\r\n                    <h3>Confirm Deletion</h3>\r\n                    <p>Are you absolutely sure you want to delete ALL ${type}s? This action cannot be undone!</p>\r\n                    <div class=\"wc-confirm-buttons\">\r\n                        <button class=\"button button-secondary cancel-delete\">Cancel</button>\r\n                        <button class=\"button button-primary confirm-delete\">Confirm Delete</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `).appendTo('body');\r\n\r\n        confirmDialog.find('.cancel-delete').on('click', function() {\r\n            confirmDialog.remove();\r\n        });\r\n\r\n        confirmDialog.find('.confirm-delete').on('click', function() {\r\n            confirmDialog.remove();\r\n            callback();\r\n        });\r\n    }\r\n\r\n    function initializeDelete(type, retryCount = 0) {\r\n        $(`#delete-${type}s-btn .poc-spinner`).show();\r\n        $(`#delete-${type}s-btn`).prop('disabled', true);\r\n        \r\n        $.ajax({\r\n            url: wcOrderGenerator.ajaxurl,\r\n            type: 'POST',\r\n            data: {\r\n                action: 'poc_get_counts',\r\n                nonce: wcOrderGenerator.poc_nonce\r\n            },\r\n            success: function(response) {\r\n                if (response.success) {\r\n                    const count = type === 'product' ? response.data.product_count : response.data.order_count;\r\n                    if (count === 0) {\r\n                        showToast(`No ${type}s found to delete.`, 'warning');\r\n                        // location.reload();\r\n                        resetProgress(type);\r\n                        return;\r\n                    }\r\n                    $(`#${type}-total`).text(count);\r\n                    \r\n                    const infoHtml = `\r\n                        <div class=\"info-container\" style=\"display: flex; justify-content: space-between; margin-top: 10px;\">\r\n                            <div style=\"display: flex; gap: 20px;\">\r\n                                <div class=\"skip-info\">Skipped: <span id=\"${type}-skipped\">0</span></div>\r\n                                <div class=\"retry-info\">Retry: <span id=\"${type}-retry-count\">0</span></div>\r\n                            </div>\r\n                            <div class=\"count-progress\" id=\"${type}-count-progress\">Progress: 0/${count}</div>\r\n                        </div>\r\n                    `;\r\n                    \r\n                    $(`#${type}-progress-container .info-container`).remove();\r\n                    $(`#${type}-progress-container`).append(infoHtml);\r\n                    $(`#${type}-progress-container`).slideDown(300);\r\n                    \r\n                    showToast(`Starting ${type} deletion process...`, 'info');\r\n                    setTimeout(() => {\r\n                        processBatch(type, 0, count, 0, 0, 0);\r\n                    }, 500);\r\n                } else {\r\n                    handleError(type, response.data || 'Error getting counts');\r\n                }\r\n            },\r\n            error: function(jqXHR, textStatus, errorThrown) {\r\n                if (retryCount < MAX_RETRIES) {\r\n                    console.log(`Retrying initialization after error: ${errorThrown}`);\r\n                    setTimeout(() => {\r\n                        initializeDelete(type, retryCount + 1);\r\n                    }, RETRY_DELAY);\r\n                } else {\r\n                    handleError(type, `Failed to initialize after ${MAX_RETRIES} attempts: ${errorThrown}`);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    function processBatch(type, offset, total, skipped, totalProcessed, retryCount) {\r\n        console.log(`Processing batch: type=${type}, offset=${offset}, total=${total}, skipped=${skipped}, totalProcessed=${totalProcessed}, retryCount=${retryCount}`);\r\n        \r\n        $(`#${type}-retry-count`).text(retryCount);\r\n        \r\n        if (retryCount > 0) {\r\n            skipped = parseInt($(`#${type}-skipped`).text()) + 1;\r\n            $(`#${type}-skipped`).text(skipped);\r\n            showToast(`Retrying batch deletion (Attempt ${retryCount} of ${MAX_RETRIES})`, 'warning');\r\n        }\r\n\r\n        $.ajax({\r\n            url: wcOrderGenerator.ajaxurl,\r\n            type: 'POST',\r\n            timeout: 30000,\r\n            data: {\r\n                action: `poc_delete_${type}s_batch`,\r\n                nonce: wcOrderGenerator.poc_nonce,\r\n                offset: offset\r\n            },\r\n            success: function(response) {\r\n                if (response.success) {\r\n                    const batchProcessed = response.data.deleted + response.data.skipped;\r\n                    const newTotalProcessed = totalProcessed + batchProcessed;\r\n                    const newSkipped = skipped + (response.data.skipped || 0);\r\n                    const percentage = Math.round((newTotalProcessed / total) * 100);\r\n    \r\n                    $(`#${type}-progress-bar`).css('width', percentage + '%');\r\n                    $(`#${type}-processed`).text(newTotalProcessed);\r\n                    $(`#${type}-skipped`).text(newSkipped);\r\n                    $(`#${type}-count-progress`).text(`Progress: ${newTotalProcessed}/${total}`);\r\n                    $(`#${type}-retry-count`).text('0');\r\n    \r\n                    if (response.data.errors && response.data.errors.length > 0) {\r\n                        showToast(`Some ${type}s could not be deleted`, 'warning');\r\n                        console.error(`Errors during ${type} deletion:`, response.data.errors);\r\n                    }\r\n    \r\n                    if (!response.data.done) {\r\n                        setTimeout(() => {\r\n                            processBatch(type, offset + batchProcessed, total, newSkipped, newTotalProcessed, 0);\r\n                        }, 1000);\r\n                    } else {\r\n                        setTimeout(() => {\r\n                            verifyDeletion(type, newSkipped, newTotalProcessed);\r\n                        }, 2000);\r\n                    }\r\n                } else {\r\n                    if (retryCount < MAX_RETRIES) {\r\n                        setTimeout(() => {\r\n                            processBatch(type, offset, total, skipped, totalProcessed, retryCount + 1);\r\n                        }, RETRY_DELAY);\r\n                    } else {\r\n                        handleError(type, response.data || `Error deleting ${type}s`);\r\n                    }\r\n                }\r\n            },\r\n            error: function(jqXHR, textStatus, errorThrown) {\r\n                if (retryCount < MAX_RETRIES) {\r\n                    setTimeout(() => {\r\n                        processBatch(type, offset, total, skipped, totalProcessed, retryCount + 1);\r\n                    }, RETRY_DELAY);\r\n                } else {\r\n                    handleError(type, `Failed to process batch after ${MAX_RETRIES} attempts: ${errorThrown}`);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    function verifyDeletion(type, skipped, totalProcessed, retryCount = 0) {\r\n        $.ajax({\r\n            url: wcOrderGenerator.ajaxurl,\r\n            type: 'POST',\r\n            data: {\r\n                action: 'poc_get_counts',\r\n                nonce: wcOrderGenerator.poc_nonce\r\n            },\r\n            success: function(response) {\r\n                if (response.success) {\r\n                    const remainingCount = type === 'product' ? response.data.product_count : response.data.order_count;\r\n                    \r\n                    $(`#delete-${type}s-btn .poc-spinner`).hide();\r\n                    \r\n                    let message;\r\n                    if (remainingCount === 0 || remainingCount === skipped) {\r\n                        message = `Operation completed!\\n${skipped} ${type}s were skipped\\n${totalProcessed - skipped} ${type}s have been successfully deleted!`;\r\n                        showToast(message, 'success');\r\n                    } else if (remainingCount < skipped) {\r\n                        message = `Operation completed!\\n${remainingCount} ${type}s remain\\n${totalProcessed - remainingCount} ${type}s have been successfully deleted!`;\r\n                        showToast(message, 'success');\r\n                    } else {\r\n                        const nextRetryCount = retryCount + 1;\r\n                        $(`#${type}-retry-count`).text(nextRetryCount);\r\n                        showToast(`Additional ${type}s found. Continuing deletion process... (Attempt ${nextRetryCount})`, 'info');\r\n                        setTimeout(() => {\r\n                            initializeDelete(type);\r\n                        }, 5000);\r\n                        return;\r\n                    }\r\n                    \r\n                    // Show detailed results in a notice\r\n                    const noticeHtml = `\r\n                        <div class=\"notice notice-success\">\r\n                            <p>${message.replace(/\\n/g, '<br>')}</p>\r\n                        </div>\r\n                    `;\r\n                    \r\n                    // Insert the notice at the top of the page\r\n                    $('.wrap h2').after(noticeHtml);\r\n                    \r\n\r\n                } else {\r\n                    handleError(type, `Error verifying ${type} deletion`);\r\n                }\r\n            },\r\n            error: function(jqXHR, textStatus, errorThrown) {\r\n                if (retryCount < MAX_RETRIES) {\r\n                    setTimeout(() => {\r\n                        verifyDeletion(type, skipped, totalProcessed, retryCount + 1);\r\n                    }, RETRY_DELAY);\r\n                } else {\r\n                    handleError(type, `Failed to verify deletion after ${MAX_RETRIES} attempts: ${errorThrown}`);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    function handleError(type, errorMessage) {\r\n        console.error(errorMessage);\r\n        $(`#delete-${type}s-btn .poc-spinner`).hide();\r\n        $(`#delete-${type}s-btn`).prop('disabled', false);\r\n        showToast(errorMessage, 'error');\r\n    }\r\n\r\n    $('#delete-products-btn').click(function() {\r\n        showConfirmDialog('product', function() {\r\n            initializeDelete('product');\r\n        });\r\n    });\r\n\r\n    $('#delete-orders-btn').click(function() {\r\n        showConfirmDialog('order', function() {\r\n            initializeDelete('order');\r\n        });\r\n    });\r\n\r\n\r\n    // Reset Button \r\n    ['product', 'order'].forEach(type => {\r\n        $('<button>', {\r\n            id: `reset-${type}-progress-btn`,\r\n            class: 'button button-secondary',\r\n            text: 'Reset',\r\n            css: {\r\n                'float': 'right',\r\n                'margin-left': '10px'\r\n            }\r\n        }).insertAfter(`#${type}-progress-container`);\r\n    });\r\n\r\n    // Reset function\r\n    function resetProgress(type) {\r\n        // Reset progress bar\r\n        $(`#${type}-progress-bar`).css('width', '0%');\r\n        \r\n        // Reset counters\r\n        $(`#${type}-processed`).text('0');\r\n        $(`#${type}-total`).text('0');\r\n        $(`#${type}-skipped`).text('0');\r\n        $(`#${type}-retry-count`).text('0');\r\n        $(`#${type}-count-progress`).text('Progress: 0/0');\r\n        \r\n        // Enable delete button if it was disabled\r\n        $(`#delete-${type}s-btn`).prop('disabled', false);\r\n        \r\n        // Hide spinner if it was visible\r\n        $(`#delete-${type}s-btn .poc-spinner`).hide();\r\n\r\n        // Show toast notification\r\n        showToast(`${type.charAt(0).toUpperCase() + type.slice(1)} progress has been reset successfully!`, 'success');\r\n    }\r\n\r\n    // Bind click events to reset buttons\r\n    $('#reset-product-progress-btn').on('click', function() {\r\n        resetProgress('product');\r\n    });\r\n\r\n    $('#reset-order-progress-btn').on('click', function() {\r\n        resetProgress('order');\r\n    });\r\n\r\n});","// extracted by mini-css-extract-plugin\nexport {};"],"names":["jQuery","document","ready","$","activeTab","localStorage","getItem","removeClass","concat","addClass","first","on","e","preventDefault","attr","setItem","file","target","files","$preview","html","name","length","append","showToast","message","type","arguments","undefined","toast","setTimeout","css","remove","isGenerating","totalOrders","successCount","failedCount","currentBatch","isStopping","startTime","formatDuration","ms","seconds","Math","floor","minutes","hours","resetAll","text","val","prop","hide","updateProgress","totalProcessed","percentage","elapsedTime","Date","now","ordersPerSecond","toFixed","remainingOrders","estimatedSecondsRemaining","stopGeneration","ajax","url","wcOrderGenerator","ajaxurl","data","action","nonce","processBatch","finishGeneration","currentBatchSize","min","console","log","show","batch_size","batch_number","success","response","failed","handleError","error","xhr","status","batchSize","numOrders","parseInt","alert","fail","isGeneratingProducts","totalProducts","productSuccessCount","productFailedCount","currentProductBatch","productStartTime","resetProductGeneration","updateProductProgress","processProductBatch","remainingProducts","products_nonce","price_min","price_max","handleProductError","numProducts","product_batch_size","exportIsGenerating","exportTotalOrders","exportStartTime","exportAll","statuses","export_nonce","export_all","total_orders","processExportBatch","export_session","batchNumber","exportSession","totalBatches","ceil","total_batches","processed","updateExportProgress","is_last_batch","window","location","href","download_url","currentTime","productExportIsGenerating","productExportTotalProducts","productExportStartTime","exportFailedAttempts","MAX_FAILED_ATTEMPTS","exportTimeout","productTypes","categories","tags","clearTimeout","export_products_nonce","product_types","total_products","processProductExportBatch","handleExportTimeout","updateProductExportProgress","handleExportError","productsPerSecond","csvFile","allowedTypes","validExtension","toLowerCase","endsWith","includes","size","formData","FormData","import_nonce","totalImportedCount","processNextBatch","processData","contentType","endTime","successful","skipped","progressPercentage","is_complete","nextBatchData","current_batch","get","import_products_nonce","totalFailedCount","totalSkippedCount","previewElement","siblings","productDropArea","stopPropagation","originalEvent","dataTransfer","trigger","RETRY_DELAY","MAX_RETRIES","showConfirmDialog","callback","confirmDialog","appendTo","find","initializeDelete","retryCount","poc_nonce","count","product_count","order_count","resetProgress","infoHtml","slideDown","jqXHR","textStatus","errorThrown","offset","total","timeout","batchProcessed","deleted","newTotalProcessed","newSkipped","round","errors","done","verifyDeletion","remainingCount","nextRetryCount","noticeHtml","replace","after","errorMessage","click","forEach","id","insertAfter","charAt","toUpperCase","slice"],"sourceRoot":""}